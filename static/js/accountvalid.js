$(document).ready(function(){
		$('#accountform').validate({
			errorElement:'span',
			errorClass:'help-block',
			focusInvalid:false,
			rules:{
				targetshopid:{
					required:true
				},
				targetshopname:{
					required:true
				},
				targetshoptype:{
					required:true
				},
				myshopid:{
					required:true
				},
				myshopname:{
					required:true
				},
				myshoptype:{
					required:true
				},
				feedbacktitle:{
					required:true
				},
				feedbackcontent:{
					required:true
				},
				oldpwd:{
					required:true
				},
				newpwd:{
					required:true
				},
				newpwd2:{
					required:true,
					equalTo:'#newpwd'
				}


			},
			messages:{
				targetshopid:{
					required:"目标店主旺旺不能为空哦"
				},
				targetshopname:{
					required:"目标店铺名称不能为空哦"
				},
				targetshoptype:{
					required:"店铺类型不能为空"
				},
				myshopid:{
					required:"小主的旺旺忘了？"
				},
				myshopname:{
					required:"小主的店铺名称不会不记得了吧？"
				},
				myshoptype:{
					required:"店铺类型不能为空"
				},
				feedbacktitle:{
					required:"标题不能空哦~"
				},
				feedbackcontent:{
					required:"内容不能为空吧~"
				},
				oldpwd:{
					required:"旧密码不可能是空的吧？"
				},
				newpwd:{
					required:"密码不能为空"
				},
				newpwd2:{
					required:"密码不能为空",
					equalTo:"新密码两次输入不一致"
				}
			},
			highlight:function(element){
				$(element).closest('.form-group').addClass('has-error');
			},
			success:function(label){
				label.closest('.form-group').removeClass('has-error');
				label.remove();
			},
			errorPlacement:function(error,element){
				element.parent('div').append(error);
			},
			submitHandler:function(form){				
				$('#oldpwd').val(hex_md5($('#oldpwd').val()));
				$('#newpwd').val(hex_md5($('#newpwd').val()));				
				form.submit();
			}
		})
});

